---
layout: page
title: tokin
permalink: /tokin
---
<style>
   .form {
  margin-top: 50px;
  padding: 50px;
  background-color: #f8f9fa;
  border-radius: 3px;
}

.form label {
  font-size: 18px;
  font-weight: 500;
  margin-bottom: 10px;
  color: #212529;
}

.form input[type="date"],
.form input[type="text"] {
  width: 100%;
  padding: 12px 20px;
  margin: 8px 0;
  box-sizing: border-box;
  border: none;
  border-radius: 4px;
}

.form .input-group {
  margin-bottom: 20px;
}

.form .button-group {
  margin-top: 50px;
}

.form .button {
  display: inline-block;
  background-color: #007bff;
  border-radius: 4px;
  border: none;
  color: #fff;
  text-align: center;
  text-decoration: none;
  font-size: 18px;
  padding: 12px 20px;
  cursor: pointer;
}

.form .button.disabled {
  background-color: #ddd;
  cursor: not-allowed;
}

.form .button-group button + button {
  margin-left: 20px;
}

.form .step.hidden {
  display: none;
}

.progress-bar {
  list-style: none;
  padding: 0;
  margin-bottom: 50px;
  text-align: center;
}

.progress-bar__dot {
  display: inline-block;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background-color: #ddd;
}

.progress-bar__connector {
  display: inline-block;
  width: 40px;
  height: 4px;
  background-color: #ddd;
  margin: 0 10px;
  vertical-align: middle;
}

.progress-bar__dot.full {
  background-color: #007bff;
}
</style>

   <h1>This demo site shows an API walled garden by tokin</h1>
   <p>
     Tokin is a cloud service designed by inUtil Labs to verify who is making use of an API. 
   </p>
   <p>
     This is a free demo and is not intended for commercial purposes. To use this service, you will need to enter a valid token, which will be provided for free in the second step.
   </p>
<!-- partial:index.partial.html -->
<form id="stepByStepForm" class="form">
   <ul class="progress-bar">
      <li class="progress-bar__dot full"></li>
      <li class="progress-bar__connector"></li>
      <li class="progress-bar__dot"></li>
      <li class="progress-bar__connector"></li>
      <li class="progress-bar__dot"></li>
   </ul>

   <div class="step step1">
      <div class="input-group">
        <label for="birthday">To verify you are a human, please enter the day you were born:</label>
        <input type="date" id="birthday" name="birthday">
      </div>
    </div>     
    
   <div class="step step2 hidden">
      <div class="input-group">
         <label for="tokin">To Get a valid token click <a href="https://wa.me/34631428039?text=get-token" target="_blank">here to open whatsapp.</a></label>
         <input type="text" placeholder="Enter your valid token" name="tokin" id="tokin">
      </div>
   </div>   

   <div class="step step3 hidden">
      <div class="input-group">
         <label for="numero-a-consultar">What is the number for which you want to see the profile pic?</label>
         <input type="text" placeholder="Enter a valid phone number" name="numero-a-consultar" id="numero-a-consultar">
      </div>
   </div>
    
   <div class="button-group">
      <button id="previous" class="disabled button" disabled>
         previous
      </button>
      <button id="next" class="button">
         next
      </button>
   </div>
   
   <div class="button-group">
      <button id="validate" type="submit" class="hidden button">
         Submit
      </button>
   </div>

</form>

<!-- partial -->
  <script>
const previousButton = document.getElementById("previous-button");
const nextButton = document.getElementById("next-button");
const submitButton = document.getElementById("submit-button");
const form = document.getElementById("step-by-step-form");
const dots = document.getElementsByClassName("progress-bar__dot");
const numberOfSteps = 3;
let currentStep = 1;

for (let i = 0; i < dots.length; ++i) {
  dots[i].addEventListener("click", () => {
    goToStep(i + 1);
  });
}

previousButton.onclick = goPrevious;
nextButton.onclick = goNext;

function goNext(e) {
  e.preventDefault();

  // check if input value exists before moving to next step
  const currentInput = document.querySelector(`.step-${currentStep} input`);
  if (currentInput.value === "") {
    return;
  }

  currentStep += 1;

  goToStep(currentStep);
}

function goPrevious(e) {
  e.preventDefault();
  currentStep -= 1;
  goToStep(currentStep);
}

function goToStep(stepNumber) {
  currentStep = stepNumber;

  let inputsToHide = document.getElementsByClassName("step");
  let inputs = document.getElementsByClassName(`step-${currentStep}`);
  let indicators = document.getElementsByClassName("progress-bar__dot");

  for (let i = indicators.length - 1; i >= currentStep; --i) {
    indicators[i].classList.remove("full");
  }

  for (let i = 0; i < currentStep; ++i) {
    indicators[i].classList.add("full");
  }

  //hide all input
  for (let i = 0; i < inputsToHide.length; ++i) {
    hide(inputsToHide[i]);
  }

  //only show the right one
  for (let i = 0; i < inputs.length; ++i) {
    show(inputs[i]);
  }

  //if we reached final step
  if (currentStep === numberOfSteps) {
    hide(previousButton);
    hide(nextButton);
    show(submitButton);
  }

  //else if first step
  else if (currentStep === 1) {
    disable(previousButton);
    enable(nextButton);
    hide(submitButton);
  } else {
    enable(previousButton);
    enable(nextButton);
    hide(submitButton);
  }
}

function enable(elem) {
  elem.classList.remove("disabled");
  elem.disabled = false;
}

function disable(elem) {
  elem.classList.add("disabled");
  elem.disabled = true;
}

function show(elem) {
  elem.classList.remove("hidden");
}

function hide(elem) {
  elem.classList.add("hidden");
}

form.addEventListener('submit', async (event) => {
  event.preventDefault();
  const phone = document.querySelector('#numero-a-consultar').value;
  const token = document.querySelector('#tokin').value;
  const url = `https://whatsapp-scraper.p.rapidapi.com/free/wspicture?phone=${phone}&token=${token}`;
  const options = {
    method: 'GET',
    headers: {
      'content-type': 'application/octet-stream',
      'X-RapidAPI-Key': '0b2157bfc4mshe1bc5572ac284d7p17fde2jsnadff8abf693a',
      'X-RapidAPI-Host': 'whatsapp-scraper.p.rapidapi.com'
    }
  };
  try {
    const response = await fetch(url, options);
    const result = await response.text();
    document.getElementById('profile-pic').src = result;
  } catch (error) {
    console.error(error);
  }
});


  </script>
  <p>
   The walled garden API shows the whatsapp profile picture fetched on real time, obtained from a public URL that is not protected by login credentials. The picture will be rendered on the box.
 </p>

<div id="result">
   <img id="profile-pic" src="" alt="Profile Pic">
</div>
